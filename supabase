from supabase import create_client, Client
import csv

url = "YOUR_SUPABASE_URL"
key = "YOUR_SUPABASE_ANON_KEY"
supabase: Client = create_client(url, key)

TABLE_NAME = "member_distributions"
CSV_PATH = "member_distributions.csv"

with open(CSV_PATH, newline="", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    rows = list(reader)

# 여러 행 한 번에 insert
response = supabase.table(TABLE_NAME).insert(rows).execute()
print(response)
